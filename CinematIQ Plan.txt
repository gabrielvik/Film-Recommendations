# CinematIQ Project Plan - React Frontend Restoration

## Overview
**Project**: CinematIQ - AI-Driven Movie Search Engine  
**Status**: React Frontend Restoration Phase  
**Started**: June 8, 2025  
**Updated**: June 8, 2025 - Evening  
**Current Focus**: AI Search Integration (RESTORE-003) after completing search-first interface

## Project Vision
**CORRECTED APPROACH**: The original FilmRecommendations.Frontend already worked perfectly with AI-driven search. We're now restoring that exact functionality in the modern React frontend architecture, replacing the over-engineered Netflix-style interface.

## Current State vs. Target State

### Original Working Frontend (Reference)
- âœ… **AI Search Interface**: "What kind of movie are you in the mood for?"
- âœ… **Natural Language Processing**: `/FilmRecomendations/GetFilmRecommendation` endpoint
- âœ… **Focused Results**: 3-5 movie recommendations with posters
- âœ… **Suggestion Chips**: "Movies directed by Christopher Nolan", etc.
- âœ… **Modal Authentication**: Login/register modals, not separate pages
- âœ… **Session Persistence**: Last search and results stored
- âœ… **Clean Design**: Simple, search-first interface

### React Frontend (RESTORATION IN PROGRESS)
- âœ… **Search-First Interface**: Clean landing page matching original exactly
- âœ… **Navigation Simplified**: Removed Netflix-style complexity
- âœ… **Theme Toggle**: Positioned correctly in top-right corner
- âœ… **Authentication Buttons**: Login/Register buttons styled like original
- âœ… **Suggestion Chips**: Implemented with original text and styling
- ğŸ”„ **AI Search Integration**: Next priority - connect to working backend API
- â³ **Movie Results Display**: Pending - after AI search works
- â³ **Modal Authentication**: Pending - convert buttons to working modals

### Target State (Original Functionality in React)
- ğŸ¯ **Exact Match**: React version that works identically to original frontend
- ğŸ¯ **Same AI Search**: Use existing backend `/FilmRecomendations/GetFilmRecommendation`
- ğŸ¯ **Same UX Flow**: Search input â†’ AI processing â†’ focused results
- ğŸ¯ **Same Design**: Clean, search-first interface with suggestion chips
- ğŸ¯ **Modern Architecture**: React 19 + TypeScript + Tailwind CSS

## Restoration Plan

### TaskMaster Integration
- **Tasks File**: `tasks/react-restoration-tasks.json` (Created via PRD parsing)
- **Total Tasks**: 12 structured restoration tasks
- **Current Task**: ğŸ”„ [RESTORE-003] Implement AI Search Integration (NEXT)
- **Methodology**: Restore original functionality step-by-step

### Trello Board Integration
- **Board**: https://trello.com/b/4LCXVy6W/cinematiq
- **Active Cards**: RESTORE-003 through RESTORE-006 in "To Do"
- **Status**: RESTORE-001 & RESTORE-002 completed, RESTORE-003 ready to start
- **Archived**: Old TRANSFORM cards removed (wrong approach)

## Key Restoration Tasks

### âœ… [RESTORE-001] Remove Netflix-Style Components (COMPLETED)
- **Priority**: HIGH | **Dependencies**: None
- **Status**: âœ… **COMPLETED** - Netflix components removed, SearchLandingPage created
- **Changes**: Simplified navigation, removed discovery pages, created search-first foundation

### âœ… [RESTORE-002] Create Search-First Landing Page (COMPLETED)
- **Priority**: HIGH | **Dependencies**: RESTORE-001
- **Goal**: Complete search landing page matching original frontend exactly
- **Status**: âœ… **COMPLETED** - Full-screen search interface implemented
- **Changes**: 
  - SearchLandingPage matches original HTML structure exactly
  - Top-right auth buttons (Login/Register) with original styling
  - Theme toggle positioned correctly
  - Clean background with dark/light mode support
  - Search input with 'Send' button matching original
  - Three suggestion chips with hover effects and original text
  - Removed RootLayout from main route to eliminate navigation complexity
  - Responsive design maintained

### ğŸ”„ [RESTORE-003] Implement AI Search Integration (CURRENT)
- **Priority**: HIGH | **Dependencies**: RESTORE-002
- **Goal**: Connect to existing `/FilmRecomendations/GetFilmRecommendation` API
- **Status**: ğŸ”„ **READY TO START**
- **Requirements**:
  - Connect search form to AI recommendation API
  - Add loading indicators during requests
  - Handle authentication (show login prompt if not authenticated)
  - Parse API response for movie recommendations
  - Add error handling for failed requests

### â³ [RESTORE-004] Create Movie Results Grid (NEXT)
- **Priority**: HIGH | **Dependencies**: RESTORE-003
- **Goal**: Display 3-5 focused movie results exactly like original
- **Status**: â³ **PENDING** - After AI search integration

### â³ [RESTORE-005] Convert to Modal Authentication (PARALLEL)
- **Priority**: HIGH | **Dependencies**: RESTORE-002
- **Goal**: Replace route-based auth with modal-based like original
- **Status**: â³ **PENDING** - Can work in parallel with search integration

### â³ [RESTORE-006] Add Suggestion Chips Functionality
- **Priority**: MEDIUM | **Dependencies**: RESTORE-003
- **Goal**: Make suggestion chips trigger actual searches
- **Status**: â³ **PENDING** - Chips are styled, need functionality

## Backend Integration (ALREADY WORKING)

### Existing API Endpoints
- **AI Search**: `GET /FilmRecomendations/GetFilmRecommendation?prompt={userPrompt}`
- **Movie Details**: `GET /FilmRecomendations/GetMovieDetails/{movieId}`
- **Authentication**: JWT-based auth system
- **TMDB Integration**: Movie data, posters, cast, trailers

### AI Service (GROK/OpenAI)
- **Working**: AI service already configured and functional
- **Endpoint**: Returns JSON array of movie recommendations
- **Features**: Natural language processing, user preference integration

## Technical Architecture

### Current React Structure (RESTORED)
```
cinematiq-frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                # Application layer (simplified routing)
â”‚   â”‚   â””â”€â”€ router/         # âœ… Updated: SearchLandingPage as index route
â”‚   â”œâ”€â”€ components/         # UI components (preserved)
â”‚   â”‚   â””â”€â”€ ui/             # âœ… ThemeToggle working correctly
â”‚   â”œâ”€â”€ features/
â”‚   â”‚   â”œâ”€â”€ search/         # âœ… RESTORED: Search-first functionality
â”‚   â”‚   â”‚   â””â”€â”€ pages/SearchLandingPage.tsx (âœ… MATCHES ORIGINAL)
â”‚   â”‚   â”œâ”€â”€ movies/         # Movie details (preserved)
â”‚   â”‚   â””â”€â”€ auth/           # â³ Will convert to modals
â”‚   â”œâ”€â”€ lib/                # API integration (existing)
â”‚   â””â”€â”€ utils/              # Utilities (preserved)
```

### Restoration Changes
- âœ… **Removed**: Netflix-style discovery pages, complex navigation, route-based main layout
- âœ… **Kept**: Movie details, UI components, API integration, authentication logic
- âœ… **Added**: Search-first landing page with original design
- ğŸ”„ **Next**: AI search integration, modal auth, results grid

## Technology Stack (UNCHANGED)
- **Frontend**: React 19, TypeScript, Vite, Tailwind CSS
- **Backend**: .NET ASP.Core Web API, Entity Framework (WORKING)
- **Database**: SQL Server (WORKING)
- **APIs**: TMDB (movies), GROK/OpenAI (AI recommendations) (WORKING)
- **Authentication**: JWT tokens (WORKING)

## Success Metrics
1. **Functional Match**: React frontend works identically to original frontend
2. **AI Search**: Natural language movie search works perfectly
3. **User Experience**: Same clean, fast, search-first interface
4. **Backend Integration**: All existing APIs work seamlessly
5. **Authentication**: Modal-based login/register like original

## Current Progress

### âœ… Completed (Major Milestone)
- **RESTORE-001**: Netflix-style components removed
- **RESTORE-002**: Search-first landing page completed
  - Full-screen interface matching original exactly
  - Top-right authentication buttons
  - Theme toggle properly positioned
  - Clean background with theme support
  - Search input with proper styling
  - Suggestion chips with original text
  - Responsive design maintained
  - Router simplified to bypass complex navigation
- **Architecture Analysis**: Original frontend analyzed and documented
- **TaskMaster Setup**: 12 restoration tasks created via PRD
- **Trello Integration**: Task tracking with MCP chains

### ğŸ”„ Next Steps (Immediate Priority)
1. **RESTORE-003**: Connect search form to AI API endpoint
2. **RESTORE-004**: Display search results in grid format
3. **RESTORE-005**: Implement modal authentication system
4. **RESTORE-006**: Make suggestion chips trigger searches

### ğŸ“… Timeline (Updated)
- **Week 1 Progress**: âœ… RESTORE-001 & RESTORE-002 completed ahead of schedule
- **Week 1 Remaining**: Complete RESTORE-003 (AI integration) and start RESTORE-004
- **Week 2**: Complete search results display and modal authentication
- **Week 3**: Polish, testing, and deployment

## Reference Implementation
- **Original Frontend**: `FilmRecommendations.Frontend/` (working AI search interface)
- **Backend API**: `FilmRecomendations.WebApi/` (fully functional)
- **Target**: Exact functional match in React architecture

## File Structure
- **Plans**: `CinematIQ Plan.txt`, `scripts/prd.txt`
- **Tasks**: `tasks/react-restoration-tasks.json` (TaskMaster)
- **Frontend**: `cinematiq-frontend/` (React project - being restored)
- **Backend**: `FilmRecomendations.WebApi/` (.NET API - working)
- **Reference**: `FilmRecommendations.Frontend/` (original working frontend)

## Development Workflow
1. **Reference**: Use original frontend as exact specification
2. **Planning**: TaskMaster for task management
3. **Tracking**: Trello board for visual progress
4. **Development**: React frontend restoration
5. **Testing**: Compare with original frontend functionality
6. **Integration**: Ensure backend APIs work identically

## Recent Changes (June 8, 2025 - Evening)

### Files Modified for RESTORE-002:
- **`src/features/search/pages/SearchLandingPage.tsx`**: Complete rewrite to match original
  - Full-screen search interface
  - Top-right authentication controls
  - Original styling and layout
  - Suggestion chips implementation
  - Theme integration
- **`src/app/router/index.tsx`**: Simplified routing structure
  - SearchLandingPage as direct index route
  - Removed RootLayout from main search page
  - Preserved complex layout for secondary pages only

### Trello Updates:
- RESTORE-002 card moved to "Done" list
- Ready to proceed with RESTORE-003 (AI Search Integration)

---
*Last Updated: June 8, 2025 - Evening*  
*Current Milestone: âœ… Search-First Interface Restored*  
*Next Milestone: ğŸ”„ AI Search Integration (RESTORE-003)*  
*Goal: Connect React frontend to working AI recommendation backend*
